
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>  Measuring program time (timeit module)
 | Nothing but Wolf</title>

    <meta name="author" content="Wolf"/>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css"/>
    <link rel="stylesheet" href="https://wuffalo.github.io/theme/css/jquery.mglass.css"/>
    <link rel="stylesheet" href="https://wuffalo.github.io/theme/css/style.tango.css"/>
    <link rel="stylesheet" href="https://wuffalo.github.io/theme/css/style.css"/>

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Istok+Web' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'/>


    <link rel="icon" href="https://wuffalo.github.io/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://wuffalo.github.io/favicon.ico" type="image/x-icon">

    <!-- Feeds -->


  </head>

  <body>

    <div class="container">

      <div class="page-header">
          <a href="https://wuffalo.github.io" class="avatar-container pull-left">
            <div class="avatar  animate ">
              <div class="side"><img src="/images/Icon3.jpg" class="img-responsive"/></div>
                <div class="side back"><p class="text-center">Klarheit ist Freiheit</p></div>
            </div>
          </a>
        <h1><a href="https://wuffalo.github.io">Nothing but Wolf</a> <small>tinkering around</small></h1>
      </div>

      <nav class="navbar navbar-default">

        <!-- Hamburger menu for mobile -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#plumage-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://wuffalo.github.io" title="tinkering around">Nothing but Wolf</a>
        </div>

        <!-- Menus and search forms -->
        <div class="collapse navbar-collapse" id="plumage-navbar-collapse-1">

          <ul class="nav navbar-nav">
<li >
                  <a href="https://wuffalo.github.io/about-me/">About Me</a>
                </li>
<li >
                  <a href="https://wuffalo.github.io/category/hardware/">Hardware</a>
                </li>
<li >
                  <a href="https://wuffalo.github.io/category/personal/">Personal</a>
                </li>
<li >
                  <a href="https://wuffalo.github.io/category/projects/">Projects</a>
                </li>
<li  class="active" >
                  <a href="https://wuffalo.github.io/category/software/">Software <span class="sr-only">(current)</span></a>
                </li>
          </ul>


            <form class="navbar-form navbar-right" role="search" action="https://wuffalo.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" name="q" id="tipue_search_input" class="form-control search-query" placeholder="Search" required />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fa
                        fa-search fa-fw"></i></button>
                  </span>
                </div>
              </div>
            </form>

        </div>

      </nav>

    </div>


    <div class="container main">

      <div class="row">
        <div class=" col-md-9  ">
  <h1>
    <a href="https://wuffalo.github.io/measuring-program-time-timeit-module.html" rel="bookmark" title="Permalink to Measuring program time (timeit module)">Measuring program time (timeit module)</a>
  </h1>
        </div>
      </div>

      <div class="row">

        <div class=" col-md-9 " id="content" role="main">
  

  <div>
    <p>I've been using python's timeit module for some testing, wanted to keep track here of timeit and any other methods I come across. Here's an example usage.</p>
<hr>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">timeit</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">default_timer</span><span class="p">()</span>

<span class="c1">#</span>

<span class="n">stop</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">default_timer</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">stop</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
</pre></div>

<p>Note: default_timer uses time.perf_counter() as defined here</p>
<blockquote>
<p>Return the value (in fractional seconds) of a performance counter, i.e. a clock with the highest available resolution to measure a short duration. It does include time elapsed during sleep and is system-wide. The reference point of the returned value is undefined, so that only the difference between the results of consecutive calls is valid.</p>
</blockquote>
<hr>
<h3>Linux</h3>
<p>Since I am using linux I can also use a built in bash command of 'time' and run the python program from the command line.</p>
<blockquote>
<p>$ time python program.py</p>
</blockquote>
<p>This will return output similar to the following.</p>
<blockquote>
<p>real  0m4.139s</p>
<p>user  0m0.301s</p>
<p>sys   0m0.053s</p>
</blockquote>
<p>A good explanation is found <a href="https://stackoverflow.com/questions/556405/what-do-real-user-and-sys-mean-in-the-output-of-time1">here on stackoverflow</a>.</p>
<blockquote>
<p><strong>Real</strong> is wall clock time - time from start to finish of the call. This is all elapsed time including time slices used by other processes and time the process spends blocked (for example if it is waiting for I/O to complete).</p>
<p><strong>User</strong> is the amount of CPU time spent in user-mode code (outside the kernel) within the process. This is only actual CPU time used in executing the process. Other processes and time the process spends blocked do not count towards this figure.</p>
<p><strong>Sys</strong> is the amount of CPU time spent in the kernel within the process. This means executing CPU time spent in system calls within the kernel, as opposed to library code, which is still running in user-space. Like 'user', this is only CPU time used by the process. See below for a brief description of kernel mode (also known as 'supervisor' mode) and the system call mechanism.</p>
</blockquote>
<p><a href="https://www.lifewire.com/command-return-time-command-4054237">Here is a good article about formatting options</a>.</p>
<hr>
<p>Summary, time is a good benchmarking tool I will be using from the command line, and timeit is one I can insert into my programs and measure any segment I need. <a href="https://docs.python.org/3/library/timeit.html#timeit.default_timer">timeit Documentation here</a>.</p>
<hr>
<p>Addendum; Here's an example usage from my program I wrote about in <a href="https://wuffalo.github.io/brs-part-1.html">this blog post</a>.</p>
<p><img alt="Time values" src="/images/article-images/sample_time.png"></p>
<p>I used a timeit start at the beginning of the program in the declarations, then I stopped it at the end of the main body after the final print statements. It gives me the first time value of 3.43 seconds, showing that real time measured of the main body of program was 3.43 seconds. Real time includes user prompt and my typing time!</p>
<p>The next time values come from bash's time command, so its real time returned 3.75 seconds. Now this should be comparable to the timeit I ran from within the program, however the bash real will always be greater as it is run outside the program, so it also counts time to open and close the program as well as other boring system things like import statements.</p>
<p>So far I haven't seen a time measure that doesn't include time I spent typing, and that's where the next two values are very useful. They come from bash's time, and they measure process time itself, see details above. So my user mode used my processor for 0.3 seconds (program management) and kernel calculations took 0.026 seconds. The kernel time is the best for comparing actual work performed. I can use this to compare to other programs.</p>
  </div>

  <!-- Article Footer from plug-in -->
    <strong>Article: "Measuring program time (timeit module)" by Wolf, in Software</strong>

  	<style>
#pcs-comment-form input,
#pcs-comment-form textarea {
	width: 100%;
}
#pcs-comment-form-display-replyto {
	border: solid 1px black;
	padding: 2px;
}
#pcs-comment-form-display-replyto p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}
#pcs-comments ul {
	list-style: none;
}
#pcs-comments .comment-left {
	display: table-cell;
	padding-right: 10px;
}
#pcs-comments .comment-body {
	display: table-cell;
	vertical-align: top;
	width: 100%;
}
</style>

	<section id="pcs-comments">
	<header>
		<h2>Comments</h2>
		<hr/>
	</header>
		<p>There are no comments yet.</p>
	<section>
	<form id="pcs-comment-form" action="#">
		<legend>Add a Comment</legend>
		<input type="hidden" id="pcs-comment-form-input-replyto">
		<fieldset>
			<label for="pcs-comment-form-input-name">Name</label>
			<input  id="pcs-comment-form-input-name" type="text" placeholder="Enter your name or nickname" />
		</fieldset>
		<fieldset>
			<label for="pcs-comment-form-input-website">Website</label>
			<input  id="pcs-comment-form-input-website" type="text" placeholder="Enter your website (optional)" />
		</fieldset>
		<fieldset>
			<label   for="pcs-comment-form-input-textarea">Your Comment</label>
			<textarea id="pcs-comment-form-input-textarea" rows="5" style="resize:vertical;" placeholder="Your comment"></textarea>
			<p>You can use the <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> syntax to format your comment.</p>
			<div style="display: none; " id="pcs-comment-form-display-replyto"></div>
		</fieldset>

		<button type="submit"
				id="pcs-comment-form-button-submit"
				>Post via email</button>

			<a href="https://wuffalo.github.io/feeds/comment.measuring-program-time-timeit-module.atom.xml">
				Comment Atom Feed
			</a>
	</form>
</section>

</section>

			<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="https://wuffalo.github.io/theme/js/comments.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			CommentSystem.email_user   = "contact.wolf.site";
			CommentSystem.email_domain = "gmail.com";
			CommentSystem.display_replyto_html = function(comment_content, article_slug, author) {
				return ''
					+ '<button style="float:right;" onclick="CommentSystem.cancelReply(); return false;" title="Cancel the reply">'
					+ 	'×'
					+ '</button>'
					+ '<p>This comment will be posted as a reply to \'<a title="'+comment_content+'" href="#comment-'+article_slug+'">'+author+'</a>\'</p>';
			};
			$('#pcs-comment-form').on("submit",
				function( event )
				{
					event.preventDefault();
					$(location).attr('href', CommentSystem.getMailtoLink("measuring-program-time-timeit-module"));
				}
			);
		});
	</script>



    <h3>Related content</h3>
    <!-- TODO: Use fancier related layout, as in https://kevin.deldycke.com/2012/04/beautify-contextual-related-posts-wordpress-plugin/ -->
    <ul>
        <li><a href="https://wuffalo.github.io/weekend-reading-quandl-tables-django-with-heroku.html">Weekend reading: Quandl tables, Django with Heroku</a></li>
        <li><a href="https://wuffalo.github.io/reduce-api-calls-and-process-time-or-how-i-learned-to-pickle-my-quandl.html">Reduce API calls and process time- or How I learned to pickle my quandl</a></li>
        <li><a href="https://wuffalo.github.io/shading-a-federal-funds-rate-graph-by-variable.html">Shading a federal funds rate graph by variable</a></li>
      </ul>


        </div>

          <div class="col-md-3">
  <div class="well">

    <p><abbr title="2017-05-27T00:00:00-05:00"><i class="fa fa-calendar"></i> Sat 27 May 2017</abbr></p>

      <p><address>
        <i class="fa fa-user"></i> By
          <a href="https://wuffalo.github.io/author/wolf.html" rel="author">Wolf</a>
      </address></p>

    <hr/>

      <p>
              <a href="https://wuffalo.github.io/category/software/" rel="tag"
                  data-toggle="tooltip" class="label label-info"
                  title="3 articles in this category">Software</a>
            <a href="/tag/python/" data-toggle="tooltip"
      class="label label-default"
      title="7 articles with this tag">python</a>
            <a href="/tag/bash/" data-toggle="tooltip"
      class="label label-default"
      title="2 articles with this tag">Bash</a>
            <a href="/tag/cpu/" data-toggle="tooltip"
      class="label label-default"
      title="2 articles with this tag">cpu</a>
            <a href="/tag/linux/" data-toggle="tooltip"
      class="label label-default"
      title="1 article with this tag">linux</a>
            <a href="/tag/timeit/" data-toggle="tooltip"
      class="label label-default"
      title="1 article with this tag">timeit</a>
            <a href="/tag/time/" data-toggle="tooltip"
      class="label label-default"
      title="1 article with this tag">time</a>
            <a href="/tag/runtime/" data-toggle="tooltip"
      class="label label-default"
      title="1 article with this tag">runtime</a>
      </p>
      <hr/>



  </div>
            
          </div>

      </div>

    </div>

    <!-- TODO: make footer sticky -->
    <footer class="container-fluid">
      <div class="container">
        <div class="row">

            <div class="col-md-2">
            </div>
            <div class="col-md-2">
                <h5>Links</h5>
                <ul class="list-unstyled">
                  <li>  <a href="https://getpelican.com/">
      <img src="https://icons.better-idea.org/icon?url=getpelican.com&size=16" width="16" height="16" class="icon" alt="getpelican.com icon"/>
    Pelican
  </a></li>
                  <li>  <a href="https://www.skyscanner.com/">
      <img src="https://icons.better-idea.org/icon?url=www.skyscanner.com&size=16" width="16" height="16" class="icon" alt="www.skyscanner.com icon"/>
    Skyscanner
  </a></li>
                </ul>
            </div>

          <div class="col-md-2">
            <h5>Browse content by</h5>
            <ul class="list-unstyled">
                <li><a href="https://wuffalo.github.io/categories/index.html"><i class="fa fa-tags"></i> Categories</a></li>
                <li><a href="https://wuffalo.github.io/archives/index.html"><i class="fa fa-calendar"></i> Dates</a></li>
                <li><a href="https://wuffalo.github.io/tags/index.html"><i class="fa fa-tag"></i> Tags</a></li>
            </ul>
          </div>

          <div class="col-md-2 text-muted">
            <h5>Copyright notice</h5>
            <p>© Copyright 2017 Wolf.</p>
          </div>

          <div class="col-md-2 text-muted">
            <h5>Disclaimer</h5>
              <p>All opinions expressed in this site are my own personal opinions and are not endorsed by, nor do they represent the opinions of my previous, current and future employers or any of its affiliates, partners or customers.</p>
          </div>

          <div class="col-md-2">
          </div>

        </div>
      </div>

      <h5 class="text-right"><a href="#"><i class="fa fa-arrow-up"></i> Back to top</a></h5>

      <div class="container">
        <div class="row col-md-12 text-muted text-center">
          Site generated by <a href="https://getpelican.com"> Pelican</a>.<br/>
          <a href="https://github.com/kdeldycke/plumage"> Plumage</a> theme by <a href="https://kevin.deldycke.com">Kevin Deldycke</a>.
        </div>
      </div>

    </footer>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fitvids/1.1.0/jquery.fitvids.min.js"></script>

    <!-- Enable show/hide toggler -->
    <script src="https://wuffalo.github.io/theme/js/show_hide_toggler.js" type="text/javascript"></script>
    
    <script src="https://wuffalo.github.io/theme/js/jquery.mglass.js"></script>
    <script src="https://wuffalo.github.io/theme/js/application.js"></script>

  </body>
</html>